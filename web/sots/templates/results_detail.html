{% extends "_base.html" %}

{% block content %}
<div class="search">
    <div class="breadcrumbs">
        <a href="{{ url_for('index') }}"><i class="fa fa-home"></i></a> > <a class="results-back-link" href="{{ results_page }}">Results List</a> > Details
    </div>
</div>
<div class="result-detail-table">
    {% include 'partials/result-details/details.html' %}
    {% include 'partials/result-details/principals.html' %}
    {% include 'partials/result-details/agents.html' %}
    {% include 'partials/result-details/filings.html' %}
    {% if name_changes %}
        {% include 'partials/result-details/name_changes.html' %}
    {% endif %}
    <!-- /.agents -->
</div>
{% endblock %}

{% block js %}
{{ super() }}
<script>
    function toggleTableVisibility(selection) {
        if ($(selection).hasClass('hidden')) {
            $(selection).removeClass('hidden');
        } else {
            $(selection).addClass('hidden');
        }
    }

    $('.button--toggle').click(function() {
        var target = '#' + $(this).data('target');
        toggleTableVisibility($(target));
        if ($(this).hasClass('fa-plus-circle')) {
            $(this).removeClass('fa-plus-circle').addClass('fa-minus-circle')
        } else {
            $(this).removeClass('fa-minus-circle').addClass('fa-plus-circle')
        }
    });
</script>
{% endblock %}